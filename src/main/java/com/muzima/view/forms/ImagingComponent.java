/* * Copyright (c) 2014. The Trustees of Indiana University. * * This version of the code is licensed under the MPL 2.0 Open Source license with additional * healthcare disclaimer. If the user is an entity intending to commercialize any application * that uses this code in a for-profit venture, please contact the copyright holder. */package com.muzima.view.forms;import android.app.Activity;import android.content.Intent;import android.net.Uri;import android.os.Environment;import android.webkit.JavascriptInterface;public class ImagingComponent {    private final static String TAG = "ImagingComponent";    private final Activity activity;    public ImagingComponent(Activity activity) {        this.activity = activity;    }    @JavascriptInterface    public void openImage(String imageUri){        if(Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED)) {            Intent startImage = new Intent(Intent.ACTION_VIEW);            Uri uri = Uri.parse("file://" + Environment.getExternalStorageDirectory().getPath() + imageUri);            startImage.setDataAndType(uri, "image/*");            activity.startActivity(startImage);        }    }}